---
import { type CollectionEntry, getCollection } from "astro:content"
import PageLayout from "@/layouts/PageLayout.astro"
import TopLayout from "@/layouts/TopLayout.astro"
import BottomLayout from "@/layouts/BottomLayout.astro"
import { SITE } from "@/consts"
import type { BreadcrumbProp } from '@/types.ts'

export async function getStaticPaths() {
	const pages = await getCollection("pages")


  return pages.map((doc) => ({
    params: { slug: doc.slug },
    props: doc,
  }))
}

// Get the requested doc
type Props = CollectionEntry<"rechtliches"> | CollectionEntry<"pages">;
const doc = Astro.props
const { title } = doc.data
const { Content } = await doc.render();

const breadcrumbs: BreadcrumbProp[] = [
  {
    title: title,
    href: ''
  }
]
---

<PageLayout title={title} description={`${title} for ${SITE.TITLE}`} breadcrumbs={breadcrumbs}>
    <article class="animate">
      <Content />
    </article>
</PageLayout>
