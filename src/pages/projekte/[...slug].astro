---
import { type CollectionEntry, getCollection } from 'astro:content'
import ProjectLayout from '@/layouts/ProjectLayout.astro'

// Create the static projects pages
export async function getStaticPaths () {
  const projects = await getCollection('projekte')
  return projects.map((project) => ({
    params: { slug: project.slug },
    props: project
  }))
}

type Props = CollectionEntry<'projekte'>
const project = Astro.props
const {
  title,
  image,
  summary
} = project.data

const { Content } = await project.render();
---
<ProjectLayout project={project} title={title} image={image}>
  <Content />
</ProjectLayout>

