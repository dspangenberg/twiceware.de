---
import type { GetStaticPaths, Page } from 'astro'
import type { CollectionEntry } from 'astro:content'
import ProjectsLayout from '@/layouts/ProjectsLayout.astro'
import { getProjects } from '@/lib/data.ts'

export const getStaticPaths = (async ({ paginate }) => {
  const allProjects = await getProjects()
  return paginate(allProjects, { pageSize: 5 })
}) satisfies GetStaticPaths

type Props = {
  page: Page<CollectionEntry<'projekte'>>
}

const { page } = Astro.props
const projects = page.data
---

<ProjectsLayout projects={projects} page={page}  />

