---
import { SITE, LINKS } from "@/consts"
import { cn } from "@/lib/utils"
const { pathname } = Astro.url
const subpath = pathname.match(/[^/]+/g)
---

<div id="drawer" class="fixed inset-0 h-0 z-40 overflow-hidden flex flex-col items-center justify-center bg-stone-100 transition-[height] duration-300 ease-in-out">
  <nav class="flex flex-col items-center space-y-2">
    {
      LINKS.map((LINK) => (
        <a href={LINK.HREF} class={cn("flex items-center justify-center px-3 py-1 rounded-full", "text-current hover:text-black", "hover:bg-black/5", "transition-colors duration-300 ease-in-out", pathname === LINK.HREF || "/" + subpath?.[0] === LINK.HREF ? "pointer-events-none bg-black text-white" : "")}>
          {LINK.TEXT}
        </a>
      ))
    }
  </nav>

</div>

<style>
  #drawer.open {
    @apply h-full;
  }
</style>
